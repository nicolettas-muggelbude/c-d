RewriteEngine On

  # HTTPS Redirect
  RewriteCond %{HTTPS} off
  RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
  
  # www zu non-www Redirect (NACH HTTPS!)
  RewriteCond %{HTTP_HOST} ^www\.(.+)$ [NC]
  RewriteRule ^(.*)$ https://%1/$1 [R=301,L]

  # Statische Assets ZUERST (WICHTIG!)
  RewriteRule ^assets/(.*)$ src/assets/$1 [L]
  RewriteRule ^favicon\.(.*)$ src/favicon.$1 [L]

  # Router NUR f√ºr nicht-existierende Dateien
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)$ src/router.php?route=$1 [L,QSA]

  DirectoryIndex src/router.php
  Options -Indexes
